{"version":3,"file":"MapsView-3cd5443d.js","sources":["../src/views/MapsView.vue"],"sourcesContent":["<template>\r\n    <div class=\"div-container\">\r\n      <TopBar />\r\n      <div class=\"text-center my-5\">\r\n        <h2>Those are mechanics near you:</h2>\r\n        <div class=\"container\" id=\"map\" style=\"height: 500px; width: 100%;\"></div>\r\n      </div>\r\n    </div>\r\n  </template>\r\n  \r\n  <script>\r\n  import TopBar from \"@/components/TopBar.vue\";\r\n  \r\n  export default {\r\n    name: \"MapsView\",\r\n    components: {\r\n      TopBar,\r\n    },\r\n    mounted() {\r\n      this.initializeMap();\r\n    },\r\n    methods: {\r\n      initializeMap() {\r\n  let currentLocation = {\r\n    lat: 0,\r\n    lng: 0,\r\n  };\r\n  let map = new google.maps.Map(document.getElementById(\"map\"), {\r\n    zoom: 13,\r\n  });\r\n\r\n  if (navigator.geolocation) {\r\n    navigator.geolocation.getCurrentPosition(\r\n      function (position) {\r\n        currentLocation.lat = position.coords.latitude;\r\n        currentLocation.lng = position.coords.longitude;\r\n        const customIcon = {\r\n          url: \"https://maps.google.com/mapfiles/kml/paddle/grn-blank.png\",\r\n          scaledSize: new google.maps.Size(40, 40),\r\n          origin: new google.maps.Point(0, 0),\r\n          anchor: new google.maps.Point(20, 40),\r\n        };\r\n        const currentLocationMarker = new google.maps.Marker({\r\n          position: currentLocation,\r\n          map: map,\r\n          icon: customIcon,\r\n        });\r\n        map.setCenter(currentLocation);\r\n        let service = new google.maps.places.PlacesService(map);\r\n        let request = {\r\n          query: \"Mechanic\",\r\n          location: currentLocation,\r\n          radius: \"500\",\r\n          type: [\"car_repair\"],\r\n        };\r\n        service.textSearch(request, function (results, status) {\r\n          if (status == google.maps.places.PlacesServiceStatus.OK) {\r\n            for (let i = 0; i < results.length; i++) {\r\n              let marker = new google.maps.Marker({\r\n                position: results[i].geometry.location,\r\n                map: map,\r\n                title: results[i].name,\r\n              });\r\n              marker.addListener(\"click\", function () {\r\n                let infowindow = new google.maps.InfoWindow({\r\n                  content:\r\n                    '<h3>' +\r\n                    this.title +\r\n                    '</h3><p>' +\r\n                    this.position +\r\n                    \"</p>\",\r\n                });\r\n                infowindow.open(map, this);\r\n              });\r\n            }\r\n          }\r\n        });\r\n      },\r\n      function () {\r\n        console.log(\"Error: The Geolocation service failed.\");\r\n      }\r\n    );\r\n  } else {\r\n    console.log(\"Error: Your browser doesn't support geolocation.\");\r\n  }\r\n}\r\n,\r\n    },\r\n  };\r\n  </script>\r\n  \r\n  <style>\r\n  </style>"],"names":["_sfc_main","TopBar","currentLocation","map","position","customIcon","service","request","results","status","i","_hoisted_1","_createElementVNode","_openBlock","_createElementBlock","_createVNode","_component_TopBar","_hoisted_2"],"mappings":"8GAaE,MAAKA,EAAU,CACb,KAAM,WACN,WAAY,CACV,OAAAC,CACD,EACD,SAAU,CACR,KAAK,cAAa,CACnB,EACD,QAAS,CACP,eAAgB,CACpB,IAAIC,EAAkB,CACpB,IAAK,EACL,IAAK,GAEHC,EAAM,IAAI,OAAO,KAAK,IAAI,SAAS,eAAe,KAAK,EAAG,CAC5D,KAAM,EACR,CAAC,EAEG,UAAU,YACZ,UAAU,YAAY,mBACpB,SAAUC,EAAU,CAClBF,EAAgB,IAAME,EAAS,OAAO,SACtCF,EAAgB,IAAME,EAAS,OAAO,UACtC,MAAMC,EAAa,CACjB,IAAK,4DACL,WAAY,IAAI,OAAO,KAAK,KAAK,GAAI,EAAE,EACvC,OAAQ,IAAI,OAAO,KAAK,MAAM,EAAG,CAAC,EAClC,OAAQ,IAAI,OAAO,KAAK,MAAM,GAAI,EAAE,GAER,IAAI,OAAO,KAAK,OAAO,CACnD,SAAUH,EACV,IAAKC,EACL,KAAME,CACR,CAAC,EACDF,EAAI,UAAUD,CAAe,EAC7B,IAAII,EAAU,IAAI,OAAO,KAAK,OAAO,cAAcH,CAAG,EAClDI,EAAU,CACZ,MAAO,WACP,SAAUL,EACV,OAAQ,MACR,KAAM,CAAC,YAAY,GAErBI,EAAQ,WAAWC,EAAS,SAAUC,EAASC,EAAQ,CACrD,GAAIA,GAAU,OAAO,KAAK,OAAO,oBAAoB,GACnD,QAASC,EAAI,EAAGA,EAAIF,EAAQ,OAAQE,IACrB,IAAI,OAAO,KAAK,OAAO,CAClC,SAAUF,EAAQE,CAAC,EAAE,SAAS,SAC9B,IAAKP,EACL,MAAOK,EAAQE,CAAC,EAAE,IACpB,CAAC,EACM,YAAY,QAAS,UAAY,CACrB,IAAI,OAAO,KAAK,WAAW,CAC1C,QACE,OACA,KAAK,MACL,WACA,KAAK,SACL,MACJ,CAAC,EACU,KAAKP,EAAK,IAAI,CAC3B,CAAC,CAGP,CAAC,CACF,EACD,UAAY,CACV,QAAQ,IAAI,wCAAwC,CACtD,GAGF,QAAQ,IAAI,kDAAkD,CAElE,CAEK,GAtFIQ,EAAA,CAAA,MAAM,eAAe,IAExBC,EAGM,MAAA,CAHD,MAAM,kBAAkB,EAAA,CAC3BA,EAAsC,UAAlC,+BAA6B,EACjCA,EAA0E,MAAA,CAArE,MAAM,YAAY,GAAG,MAAM,MAAA,CAAmC,OAAA,QAAA,MAAA,MAAA,qDAJvE,OAAAC,EAAA,EAAAC,EAMM,MANNH,EAMM,CALJI,EAAUC,CAAA,EACVC"}