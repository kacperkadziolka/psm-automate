{"version":3,"file":"MapsView-3593f6c2.js","sources":["../src/views/MapsView.vue"],"sourcesContent":["<template>\n    <div class=\"div-container\">\n      <TopBar />\n      <div class=\"text-center my-5\">\n        <h2>Those are mechanics near you:</h2>\n        <div class=\"container\" id=\"map\" style=\"height: 500px; width: 100%;\"></div>\n      </div>\n    </div>\n  </template>\n  \n  <script>\n  import TopBar from \"@/components/TopBar.vue\";\n  \n  export default {\n    name: \"MapsView\",\n    components: {\n      TopBar,\n    },\n    mounted() {\n      this.initializeMap();\n    },\n    methods: {\n      initializeMap() {\n  let currentLocation = {\n    lat: 0,\n    lng: 0,\n  };\n  let map = new google.maps.Map(document.getElementById(\"map\"), {\n    zoom: 13,\n  });\n\n  if (navigator.geolocation) {\n    navigator.geolocation.getCurrentPosition(\n      function (position) {\n        currentLocation.lat = position.coords.latitude;\n        currentLocation.lng = position.coords.longitude;\n        const customIcon = {\n          url: \"https://maps.google.com/mapfiles/kml/paddle/grn-blank.png\",\n          scaledSize: new google.maps.Size(40, 40),\n          origin: new google.maps.Point(0, 0),\n          anchor: new google.maps.Point(20, 40),\n        };\n        const currentLocationMarker = new google.maps.Marker({\n          position: currentLocation,\n          map: map,\n          icon: customIcon,\n        });\n        map.setCenter(currentLocation);\n        let service = new google.maps.places.PlacesService(map);\n        let request = {\n          query: \"Mechanic\",\n          location: currentLocation,\n          radius: \"500\",\n          type: [\"car_repair\"],\n        };\n        service.textSearch(request, function (results, status) {\n          if (status == google.maps.places.PlacesServiceStatus.OK) {\n            for (let i = 0; i < results.length; i++) {\n              let marker = new google.maps.Marker({\n                position: results[i].geometry.location,\n                map: map,\n                title: results[i].name,\n              });\n              marker.addListener(\"click\", function () {\n                let infowindow = new google.maps.InfoWindow({\n                  content:\n                    '<h3>' +\n                    this.title +\n                    '</h3><p>' +\n                    this.position +\n                    \"</p>\",\n                });\n                infowindow.open(map, this);\n              });\n            }\n          }\n        });\n      },\n      function () {\n        console.log(\"Error: The Geolocation service failed.\");\n      }\n    );\n  } else {\n    console.log(\"Error: Your browser doesn't support geolocation.\");\n  }\n}\n,\n    },\n  };\n  </script>\n  \n  <style>\n  </style>"],"names":["_sfc_main","TopBar","currentLocation","map","position","customIcon","service","request","results","status","i","_hoisted_1","_createElementVNode","_openBlock","_createElementBlock","_createVNode","_component_TopBar","_hoisted_2"],"mappings":"8GAaE,MAAKA,EAAU,CACb,KAAM,WACN,WAAY,CACV,OAAAC,CACD,EACD,SAAU,CACR,KAAK,cAAa,CACnB,EACD,QAAS,CACP,eAAgB,CACpB,IAAIC,EAAkB,CACpB,IAAK,EACL,IAAK,GAEHC,EAAM,IAAI,OAAO,KAAK,IAAI,SAAS,eAAe,KAAK,EAAG,CAC5D,KAAM,EACR,CAAC,EAEG,UAAU,YACZ,UAAU,YAAY,mBACpB,SAAUC,EAAU,CAClBF,EAAgB,IAAME,EAAS,OAAO,SACtCF,EAAgB,IAAME,EAAS,OAAO,UACtC,MAAMC,EAAa,CACjB,IAAK,4DACL,WAAY,IAAI,OAAO,KAAK,KAAK,GAAI,EAAE,EACvC,OAAQ,IAAI,OAAO,KAAK,MAAM,EAAG,CAAC,EAClC,OAAQ,IAAI,OAAO,KAAK,MAAM,GAAI,EAAE,GAER,IAAI,OAAO,KAAK,OAAO,CACnD,SAAUH,EACV,IAAKC,EACL,KAAME,CACR,CAAC,EACDF,EAAI,UAAUD,CAAe,EAC7B,IAAII,EAAU,IAAI,OAAO,KAAK,OAAO,cAAcH,CAAG,EAClDI,EAAU,CACZ,MAAO,WACP,SAAUL,EACV,OAAQ,MACR,KAAM,CAAC,YAAY,GAErBI,EAAQ,WAAWC,EAAS,SAAUC,EAASC,EAAQ,CACrD,GAAIA,GAAU,OAAO,KAAK,OAAO,oBAAoB,GACnD,QAASC,EAAI,EAAGA,EAAIF,EAAQ,OAAQE,IACrB,IAAI,OAAO,KAAK,OAAO,CAClC,SAAUF,EAAQE,CAAC,EAAE,SAAS,SAC9B,IAAKP,EACL,MAAOK,EAAQE,CAAC,EAAE,IACpB,CAAC,EACM,YAAY,QAAS,UAAY,CACrB,IAAI,OAAO,KAAK,WAAW,CAC1C,QACE,OACA,KAAK,MACL,WACA,KAAK,SACL,MACJ,CAAC,EACU,KAAKP,EAAK,IAAI,CAC3B,CAAC,CAGP,CAAC,CACF,EACD,UAAY,CACV,QAAQ,IAAI,wCAAwC,CACtD,GAGF,QAAQ,IAAI,kDAAkD,CAElE,CAEK,GAtFIQ,EAAA,CAAA,MAAM,eAAe,IAExBC,EAGM,MAAA,CAHD,MAAM,kBAAkB,EAAA,CAC3BA,EAAsC,UAAlC,+BAA6B,EACjCA,EAA0E,MAAA,CAArE,MAAM,YAAY,GAAG,MAAM,MAAA,CAAmC,OAAA,QAAA,MAAA,MAAA,qDAJvE,OAAAC,EAAA,EAAAC,EAMM,MANNH,EAMM,CALJI,EAAUC,CAAA,EACVC"}